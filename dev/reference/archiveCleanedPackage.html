<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Archive and clean Package Directory — archiveCleanedPackage • FastUtils</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Archive and clean Package Directory — archiveCleanedPackage"><meta name="description" content="
This function processes an R package directory, removing irrelevant files
(e.g., .git, .gitignore-listed files, etc.) and strips parts of lines
matching a specified regex from source code. It then creates a clean folder
or a zipped archive of the package without modifying the original directory.
MAJOR NOTE this is no where near perfect and the regexes used at the moment
for removing comments are prone to issues such as not detecting whether
the symbols are inside special strings."><meta property="og:description" content="
This function processes an R package directory, removing irrelevant files
(e.g., .git, .gitignore-listed files, etc.) and strips parts of lines
matching a specified regex from source code. It then creates a clean folder
or a zipped archive of the package without modifying the original directory.
MAJOR NOTE this is no where near perfect and the regexes used at the moment
for removing comments are prone to issues such as not detecting whether
the symbols are inside special strings."><meta name="robots" content="noindex"><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-TSDH5XEN3S"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-TSDH5XEN3S');
</script></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">FastUtils</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.2.1.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/install.html">Installing FastUtils</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Qile0317/FastUtils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Archive and clean Package Directory</h1>
      <small class="dont-index">Source: <a href="https://github.com/Qile0317/FastUtils/blob/dev/R/research.R" class="external-link"><code>R/research.R</code></a></small>
      <div class="d-none name"><code>archiveCleanedPackage.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental" class="external-link"><img src="figures/lifecycle-experimental.svg" alt="[Experimental]"></a></p>
<p>This function processes an R package directory, removing irrelevant files
(e.g., <code>.git</code>, <code>.gitignore</code>-listed files, etc.) and strips parts of lines
matching a specified regex from source code. It then creates a clean folder
or a zipped archive of the package without modifying the original directory.</p>
<p>MAJOR NOTE this is no where near perfect and the regexes used at the moment
for removing comments are prone to issues such as not detecting whether
the symbols are inside special strings.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">archiveCleanedPackage</span><span class="op">(</span></span>
<span>  <span class="va">packageDir</span>,</span>
<span>  <span class="va">output</span>,</span>
<span>  removeHidden <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  removeGitignore <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-packagedir">packageDir<a class="anchor" aria-label="anchor" href="#arg-packagedir"></a></dt>
<dd><p>A string specifying the path to the package directory.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>A string specifying the name of the output cleaned directory.
If the string ends with .zip, the function will create a zipped archive of
the cleaned directory.</p></dd>


<dt id="arg-removehidden">removeHidden<a class="anchor" aria-label="anchor" href="#arg-removehidden"></a></dt>
<dd><p>Logical; if <code>TRUE</code>, removes hidden files and folders
(starting with a dot). Default is <code>TRUE</code>.</p></dd>


<dt id="arg-removegitignore">removeGitignore<a class="anchor" aria-label="anchor" href="#arg-removegitignore"></a></dt>
<dd><p>Logical; if <code>TRUE</code>, removes files listed in the
<code>.gitignore</code>. Default is <code>TRUE</code>.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical; if <code>TRUE</code>, prints additional information about the
cleaning process. Default is <code>FALSE</code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A cleaned directory or a zipped file of the package directory.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The function cleans the package directory by:</p><ul><li><p>Removing hidden files and folders like <code>.git</code>.</p></li>
<li><p>Excluding files listed in <code>.gitignore</code>.</p></li>
<li><p>Stripping out parts of lines matching a regex pattern from source files.</p></li>
</ul><p>The output will be either a cleaned directory or a zipped archive of it.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Clean and archive the package directory</span></span></span>
<span class="r-in"><span><span class="fu">archiveCleanedPackage</span><span class="op">(</span><span class="st">"/path/to/package"</span>, <span class="st">"clean_package.zip"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Clean package directory without zipping it</span></span></span>
<span class="r-in"><span><span class="fu">archiveCleanedPackage</span><span class="op">(</span><span class="st">"/path/to/package"</span>, <span class="cn">NULL</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Qile Yang.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

